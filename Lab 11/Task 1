import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
                Whatisithope machine = new Whatisithope();
                Scanner scanner = new Scanner(System.in);

                while (true) {
                    machine.displayMenu();
                    try {
                        System.out.print("Введите сумму денег (или 0 для выхода): ");
                        int moneyInput = scanner.nextInt();
                        if (moneyInput == 0) {
                            break;
                        }
                        machine.inputmoney(moneyInput);

                        System.out.print("Выберите напиток (Coka-cola, Sprite, Fanta): ");
                        String drinkChoice = scanner.next().toUpperCase();
                        if (!isValidDrink(drinkChoice)) {
                            System.out.println("Неверный выбор напитка.");
                            continue;
                        }

                        machine.buyDrink(drinkChoice);

                    } catch (IllegalArgumentException e) {
                        System.out.println("Ошибка: " + e.getMessage());
                    } catch (Exception e) {
                        System.out.println("Ошибка: " + e.getMessage());
                        scanner.next(); // Очистка некорректного ввода
                    } finally {
                        machine.returnMoney();
                    }
                }

                scanner.close();
            }

            private static boolean isValidDrink(String drinkChoice) {
                for (Drinks drink : Drinks.values()) {
                    if (drink.name().equals(drinkChoice)) {
                        return true;
                    }
                }
                return false;
            }
        }


